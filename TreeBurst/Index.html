<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>TreeBurst 0.1</title>
    <!-- Lib includes -->
    <link href="Styles/css/CssReset.css" type="text/css" rel="stylesheet" />
    <script src="Scripts/lib/modernizr-2.6.2.js"></script>
    <script src="Scripts/lib/jquery-2.0.3.js"></script>
    <!-- TreeBurst -->
    <link href="Styles/css/TreeBurst.min.css" type="text/css" rel="stylesheet" />
    <script src="Scripts/app/jquery-treeburst.js"></script>
    <script src="Scripts/app/TreeBurst.Application.js"></script>
    <script src="Scripts/app/TreeBurst.TreeManager.js"></script>
    <script src="Scripts/app/TreeBurst.Node.js"></script>
    <script src="Scripts/app/TreeBurst.CanvasNode.js"></script>
    <script src="Scripts/app/TreeBurst.TreeCanvas.js"></script>
    <script src="Scripts/app/TreeBurst.Tooltip.js"></script>
    <script src="Scripts/app/TreeBurst.Colour.js"></script>
    <script src="Scripts/app/TreeBurst.PaletteManager.js"></script>
    <script src="Scripts/app/TreeBurst.ColourPalettes.js"></script>
    <script src="Scripts/app/Palettes/TreeBurst.Palettes.Random.js"></script>
    <script src="Scripts/app/Palettes/TreeBurst.Palettes.Greyscale.js"></script>
    <script src="Scripts/app/Data/DemoNodes.js"></script>
</head>
<body>
    <h1>TreeBurst.js</h1>
    <select id="treeDataSelector">
        <option value="1">Single root</option>
        <option value="2">Depth 1 - Root with two children</option>
        <option value="3">Depth 2 - Root with grandchildren, balanced</option>
        <option value="4">Depth 3 - Root with grandchildren, unbalanced</option>
        <option value="5">Depth 4 - Complex unbalanced tree</option>
    </select>
    <select id="paletteSelector">
        <option value="0" selected="selected">Random Colours</option>
        <option value="2">Greyscale</option>
    </select>
    <button id="rRight">Rotate anti-clockwise</button>
    <button id="rLeft">Rotate clockwise</button>
    <button id="enableMouseRotate">Enable Mouse Rotation</button>
    <section id="debugControls">
        <h2>Position</h2>
        <div id="mousePosition"></div>
        <h2>Colour</h2>
        <div id="pixelColour"></div>
        <div id="pixelPallette"></div>
        <h2>Node</h2>
        <div id="nodeInfo"></div>
    </section>
    <div class="tbContainer">
        <canvas id="tbCanvas" width="500" height="500"></canvas>
    </div>
</body>
<script>

    $(document).ready(function () {
        

        //$.TreeBurst.init($, {
        //    nodes: new DMC.TreeBurst.Data.DemoNodes(nodeSet).getNodes(),
        //    canvasElId: 'tbCanvas',
        //    width: 800,
        //    height: 600,
        //    radius: 50,
        //    debug: true
        //});

        var treeBurst, demoNodes;

        function init() {

            var nodeSet = parseInt($('#treeDataSelector').val(), 10);

            demoNodes = new TreeBurst.Data.DemoNodes(nodeSet);

            treeBurst = new TreeBurst.Application(jQuery, {
                nodes: demoNodes.getNodes(),
                canvasElId: 'tbCanvas',
                width: 800,
                height: 600,
                radius: 50,
                debug: true
            });
        }

        $('#treeDataSelector').on('change', function () {
            init(parseInt(this.value, 10));
        });

        $('#paletteSelector').on('change', function () {

            //treeBurst = new TreeBurst.Application(jQuery, {
            //    nodes: demoNodes.getNodes(),
            //    canvasElId: 'tbCanvas',
            //    width: 800,
            //    height: 600,
            //    radius: 50,
            //    debug: true
            //});            

            init();

            treeBurst.SetPalette(parseInt(this.value, 10));

            

            

        });

        init();
    });
</script>
</html>
